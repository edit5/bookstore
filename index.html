<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ë„ì„œ í†µí•© ê²€ìƒ‰</title>
  <style>
    body {
      font-family: sans-serif;
      font-size: 13px;
      background: #fff;
      color: #000;
      margin: 20px;
    }

    h1 {
      font-size: 16px;
      margin-bottom: 16px;
    }

    input[type="text"] {
      width: 100%;
      padding: 6px;
      font-size: 13px;
      margin-bottom: 12px;
    }

    .group {
      margin-bottom: 16px;
    }

    .checkboxes {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
      margin-bottom: 8px;
    }

    button {
      padding: 6px 12px;
      font-size: 13px;
      cursor: pointer;
      border: 1px solid #aaa;
      background: #f9f9f9;
    }

    label {
      font-size: 13px;
    }
  </style>
</head>
<body>

<h1>ğŸ“š ë„ì„œ í†µí•© ê²€ìƒ‰</h1>

<input id="searchInput" type="text" placeholder="ì±… ì œëª© ë˜ëŠ” ISBN ì…ë ¥" />

<!-- ì„œì  ì„ íƒ -->
<div class="group">
  <div class="checkboxes">
  <button onclick="searchBookstores()">ì„œì  ê²€ìƒ‰</button>
    <label><input type="checkbox" class="site" value="aladin" checked> ì•Œë¼ë”˜</label>
    <label><input type="checkbox" class="site" value="kyobo" checked> êµë³´ë¬¸ê³ </label>
    <label><input type="checkbox" class="site" value="yes24" checked> ì˜ˆìŠ¤24</label>
    <label><input type="checkbox" class="site" value="booktown" checked> ë™ë„¤ì„œì </label>
  </div>
</div>

<!-- ë¯¸ë””ì–´ ì„ íƒ -->
<div class="group">
  <div class="checkboxes">
  <button onclick="searchMedia()">ë¯¸ë””ì–´ ê²€ìƒ‰</button>
    <label><input type="checkbox" class="media" value="naver" checked> ë„¤ì´ë²„ ë¸”ë¡œê·¸</label>
    <label><input type="checkbox" class="media" value="news" checked> ë‰´ìŠ¤</label>
    <label><input type="checkbox" class="media" value="youtube" checked> ìœ íŠœë¸Œ</label>
    <label><input type="checkbox" class="media" value="instagram" checked> ì¸ìŠ¤íƒ€ê·¸ë¨</label>
  </div>
</div>

<script>
  document.getElementById("searchInput").addEventListener("keydown", function (e) {
    if (e.key === "Enter") {
      searchBookstores();
    }
  });

  function getKeyword() {
    const val = document.getElementById("searchInput").value.trim();
    if (!val) {
      alert("ì±… ì œëª© ë˜ëŠ” ISBNì„ ì…ë ¥í•´ ì£¼ì„¸ìš”.");
      return null;
    }
    return val;
  }

  function searchBookstores() {
    const keyword = getKeyword();
    if (!keyword) return;

    const encoded = encodeURIComponent(keyword);
    const sites = Array.from(document.querySelectorAll(".site:checked")).map(cb => cb.value);
    if (sites.length === 0) {
      alert("ì„œì ì„ ì„ íƒí•´ ì£¼ì„¸ìš”.");
      return;
    }

    sites.forEach(site => {
      let url = "";
      if (site === "aladin") {
        url = `https://www.aladin.co.kr/search/wsearchresult.aspx?SearchTarget=Book&SearchWord=${encoded}`;
      } else if (site === "kyobo") {
        url = `https://search.kyobobook.co.kr/search?keyword=${encoded}`;
      } else if (site === "yes24") {
        url = `https://www.yes24.com/Product/Search?query=${encoded}`;
      } else if (site === "booktown") {
        url = `https://app.booktown.or.kr/home/search/all?searchKeyword=${encoded}`;
      }
      window.open(url, "_blank");
    });
  }

  function searchMedia() {
    const keyword = getKeyword();
    if (!keyword) return;

    const encoded = encodeURIComponent(keyword);
    const hashtag = encodeURIComponent(keyword.replace(/\s/g, ""));
    const medias = Array.from(document.querySelectorAll(".media:checked")).map(cb => cb.value);
    if (medias.length === 0) {
      alert("ë¯¸ë””ì–´ë¥¼ ì„ íƒí•´ ì£¼ì„¸ìš”.");
      return;
    }

    medias.forEach(media => {
      let url = "";
      if (media === "naver") {
        url = `https://search.naver.com/search.naver?where=blog&query=${encoded}`;
      } else if (media === "news") {
        url = `https://www.google.com/search?tbm=nws&q=${encoded}`;
      } else if (media === "youtube") {
        url = `https://www.youtube.com/results?search_query=${encoded}+ì±…`;
      } else if (media === "instagram") {
        url = `https://www.instagram.com/explore/tags/${hashtag}/`;
      }
      window.open(url, "_blank");
    });
  }
</script>

</body>
</html>
